<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158845844-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-158845844-1');</script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery-cookiebar/1.0.5/jquery.cookiebar.min.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/jquery-cookiebar/1.0.5/jquery.cookiebar.css><script type=text/javascript>$(document).ready(function(){$.cookieBar({fixed:true,acceptOnScroll:600,policyURL:'/privacy-policy/',policyButton:true,policyText:'Privacy Policy',expireDays:45});});</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css integrity=sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body);></script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Ecpise with cmake project on windows</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="create an eclipse setup from cmake for embbeded projects"><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css><link rel=stylesheet href=https://yairgd.github.io/css/blog.css></head><body><nav class="navbar is-fixed-top" role=navigation aria-label="main navigation"><div class=navbar-brand><a class=navbar-item href=https://yairgd.github.io/>Home</a>
<a class=navbar-item href=/pages/about>About</a>
<a class=navbar-item href=/blog>Blog</a>
<a class=navbar-item href=/pages/cv>CV</a>
<a class=navbar-item href=/projects>Projects</a>
<a class=navbar-item href=/pages/search>Search</a></div></nav><section class="hero is-info is-medium"><div class=hero-body style=background-image:url(https://yairgd.github.io/img/bg-blog1.jpg)><div class="container has-text-centered"><br><h1 class="title is-size-1">Ecpise with cmake project on windows</h1></div></div></section><div class=container><div class=section><div class=columns><div class="column is-9"><div class="tile is-child box"><div class=content><article class=media><div class=media-content><div class=content><p class="title is-5"><a href=https://yairgd.github.io/2020/09/ecpise-with-cmake-project-on-windows/>Ecpise with cmake project on windows</a></p><p class="subtitle is-size-6 has-text-grey-light">Published at September 12, 2020 &#183;
<i class="far fa-clock"></i>&nbsp;4 min read
&#183; Tags:
<a href=https://yairgd.github.io/tags/eclipse/>eclipse</a>
<a href=https://yairgd.github.io/tags/emmbeded/>emmbeded</a></p></br></div></div></article><p>CMake is a powerfull tool to manage c/c++ projects and I preffer to use in on my embbeded projects also. Usually I work in linux enviementn in terminal and Iin linux enviroments , every thing installed in the place and thing works great, but when I had to switch it to eclipse on windows envement ,that was a changled task so I describe here the stages that I had to make in order import my cmkae forject from linux to windos based on eclipse. The first stage is to instal the following softawer on windows.</p><ul><li><a href=https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads>arm tool chain</a></li><li><a href=http://gnuwin32.sourceforge.net/packages/make.htm>gnu make tool</a> - used by cmake and eclipse</li><li><a href=https://cmake.org/>cmake</a></li><li><a href=https://www.oracle.com/java/technologies/javase-jdk11-downloads.html>jdk 11</a> - used by eclipse</li><li><a href=https://gnu-mcu-eclipse.github.io/>eclipse for mcu</a></li></ul><p>For convinece , it is better to install the software above in the global <a href=https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/>path</a> vriable.</p><h2 id=cmake-project>cmake project</h2><p>The cmake tools is a generator of build systems. It can create projects to diffetents kinds of IDEs like eclise and visual studio and depend on a selected IDE it creates a propriate prjectsfiles. It is based on configuration file named <em>CMakeLists.txt</em> - it is a kind of scripting language that defines the project files , compiler , flag etc&rsquo;. For embbeded projects I usually matins 2 projects:</p><ul><li>embbeded project</li><li>PC project - includes unit tests, library of commnication etc&rsquo;</li></ul><p>The general template for such project can have the following structute.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>├── arm_app
│   ├── src
│   ├── bsp
│   └── CMakeLists.txt
├── CMakeLists.txt
├── common
└── pc_app
    └── CMakeLists.txt
</code></pre></div><p>Each directory includes a nested <em>CMakeLists.txt</em> as it shoud be in <em>cmake</em> projects. The bsp dirctory usually shlud be taken from the chip (st,cypress,atmel etc&rsquo;) provider, the src directory is the projectsis self and its structre depend in the projects and may contain more sub directories and libraries. The common directory shpould contain source files that compiled on both system: embedded and PC. Usually these fle relate to commnication structure that both CPUs used for cominication or any other common data.
I have used the following cmake vairbale to skip compiler checks that may fail under windows.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake>set(<span style=color:#e6db74>CMAKE_C_COMPILER_WORKS</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_CXX_COMPILER_WORKS</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>This variable setting are specific for embedded cross complier:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake>SET(<span style=color:#e6db74>CMAKE_CROSSCOMPILING</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SYSTEM_NAME</span> <span style=color:#e6db74>Generic</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SYSTEM_PROCESSOR</span> <span style=color:#e6db74>arm</span>)<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>and finaly this variabe to handle cmakle error as reffers [here](<a href=https://stackoverflow.com/questions/10599038/can-i-skip-cmake-compiler-tes>https://stackoverflow.com/questions/10599038/can-i-skip-cmake-compiler-tes</a> ts-or-avoid-error-unrecognized-option-rdynamic)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake>set(<span style=color:#e6db74>CMAKE_SHARED_LIBRARY_LINK_C_FLAGS</span> <span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SHARED_LIBRARY_LINK_CXX_FLAGS</span> <span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=top-project>top project</h3><p>The top <em>CMakeLists</em> contains the following content:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake>cmake_minimum_required (<span style=color:#e6db74>VERSION</span> <span style=color:#e6db74>2.8</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>SET(<span style=color:#e6db74>CMAKE_CONFIGURATION_TYPES</span> <span style=color:#e6db74>&#34;Debug;Release;MinSizeRel;RelWithDebInfo&#34;</span> <span style=color:#e6db74>CACHE</span> <span style=color:#e6db74>STRING</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>FORCE</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>if (<span style=color:#e6db74>NOT</span> <span style=color:#e6db74>CMAKE_BUILD_TYPE</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>CMAKE_BUILD_TYPE</span> <span style=color:#e6db74>Debug</span> <span style=color:#e6db74>CACHE</span> <span style=color:#e6db74>STRING</span>
         <span style=color:#e6db74>&#34;Choose the type of build, options are: None Debug Release RelWithDebInfo MinSizeRel.&#34;</span>
         <span style=color:#e6db74>FORCE</span>
    )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>endif (<span style=color:#e6db74>NOT</span> <span style=color:#e6db74>CMAKE_BUILD_TYPE</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set (<span style=color:#e6db74>CMAKE_USE_RELATIVE_PATHS</span> <span style=color:#e6db74>True</span>)<span style=color:#960050;background-color:#1e0010>\</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>add_subdirectory (<span style=color:#f92672>${</span>CMAKE_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/arm_app</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>add_subdirectory (<span style=color:#f92672>${</span>CMAKE_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/pc_app</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>SET(<span style=color:#e6db74>CMAKE_GENERATOR</span> <span style=color:#e6db74>&#34;Unix Makefiles&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>project (<span style=color:#e6db74>top</span> <span style=color:#e6db74>NONE</span>)<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>It not a project , but it calls the other two subdirectory with the projects</p><h3 id=pc-application>pc application</h3><p>For the pc application we need <em>cmake</em> project. <a href=http://derekmolloy.ie/hello-world-introductions-to-cmake/>Reffer</a> here for more details. The common dircory should contain files that are also used in the embbeded proccessor. For example , it shoud contain a source file with commnication protocol, like structure that both sides use it.</p><h3 id=embbeded-project>embbeded project</h3><p>The the <em>CMakeLists</em> of the arm appclication contains the path to arm compiler. If the path is written in the PATH variable , <em>COM_PATH</em> can be lived empty. The <em>CON_EXT</em> includes the <em>exe</em> suffix in windows application. The folloing <em>CMakeLists.txt</em> has linker configuration for arm coretx-m4.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake>if (<span style=color:#e6db74>UNIX</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>COM_EXT</span> <span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>COM_PATH</span>  <span style=color:#e6db74>/path/to/arm-compiler</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	add_custom_target(<span style=color:#e6db74>flash</span>
		<span style=color:#75715e>#COMMAND ${OBJCOPY} -O ihex -R .eeprom $&lt; $@       
</span><span style=color:#75715e></span>		<span style=color:#e6db74>COMMAND</span> <span style=color:#e6db74>echo</span> <span style=color:#e6db74>&#34;It can be replaced comand to flash bin to jtag&#34;</span>
	)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>unix_extra_define</span> <span style=color:#e6db74>&#34;-DCONFIG_VERSION&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>else()<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>COM_EXT</span> <span style=color:#e6db74>&#34;.exe&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>COM_PATH</span>  <span style=color:#e6db74>&#34;c:\path\to\arm-compiler&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>endif()<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_CXX_COMPILER</span>
	<span style=color:#f92672>${</span>COM_PATH<span style=color:#f92672>}</span><span style=color:#e6db74>arm-none-eabi-g++</span><span style=color:#f92672>${</span>COM_EXT<span style=color:#f92672>}</span>
	) <span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_C_COMPILER</span>
	<span style=color:#f92672>${</span>COM_PATH<span style=color:#f92672>}</span><span style=color:#e6db74>arm-none-eabi-gcc</span><span style=color:#f92672>${</span>COM_EXT<span style=color:#f92672>}</span>
	)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_ASM_COMPILER</span>
	<span style=color:#f92672>${</span>COM_PATH<span style=color:#f92672>}</span><span style=color:#e6db74>arm-none-eabi-gcc</span><span style=color:#f92672>${</span>COM_EXT<span style=color:#f92672>}</span>
	)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_AR</span>
	<span style=color:#f92672>${</span>COM_PATH<span style=color:#f92672>}</span><span style=color:#e6db74>arm-none-eabi-ar</span><span style=color:#f92672>${</span>COM_EXT<span style=color:#f92672>}</span>
	)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># special settings for embedded compiler under windows
</span><span style=color:#75715e></span>set(<span style=color:#e6db74>CMAKE_C_COMPILER_WORKS</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_CXX_COMPILER_WORKS</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>SET(<span style=color:#e6db74>CMAKE_CROSSCOMPILING</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SYSTEM_NAME</span> <span style=color:#e6db74>Generic</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SYSTEM_PROCESSOR</span> <span style=color:#e6db74>arm</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SHARED_LIBRARY_LINK_C_FLAGS</span> <span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_SHARED_LIBRARY_LINK_CXX_FLAGS</span> <span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>project (<span style=color:#e6db74>arm_app</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>#version number
</span><span style=color:#75715e></span>set (<span style=color:#e6db74>PROJECT_VERSION_MAJOR</span> <span style=color:#e6db74>1</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set (<span style=color:#e6db74>PROJECT_VERSION_MINOR</span> <span style=color:#e6db74>0</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>if (<span style=color:#e6db74>CMAKE_BUILD_TYPE</span> <span style=color:#e6db74>STREQUAL</span> <span style=color:#e6db74>&#34;Debug&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	message(<span style=color:#e6db74>&#34;debug mode&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>CMAKE_C_FLAGS</span> 
		<span style=color:#e6db74>&#34; -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -mthumb ${CMAKE_C_FLAGS_DEBUG}&#34;</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>CMAKE_CXX_FLAGS</span> 
		<span style=color:#e6db74>&#34; -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -mthumb ${CMAKE_CXX_FLAGS_DEBUG}  -fpermissive&#34;</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>endif (<span style=color:#e6db74>CMAKE_BUILD_TYPE</span> <span style=color:#e6db74>STREQUAL</span> <span style=color:#e6db74>&#34;Debug&#34;</span>) <span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>if (<span style=color:#e6db74>CMAKE_BUILD_TYPE</span> <span style=color:#e6db74>STREQUAL</span> <span style=color:#e6db74>&#34;Release&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	message(<span style=color:#e6db74>&#34;debug mode&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>CMAKE_C_FLAGS</span> 
		<span style=color:#e6db74>&#34; -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -mthumb ${CMAKE_C_FLAGS_RELEASE}&#34;</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>	set (<span style=color:#e6db74>CMAKE_CXX_FLAGS</span> 
		<span style=color:#e6db74>&#34; -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -mthumb ${CMAKE_CXX_FLAGS_RELEASE}  -fpermissive&#34;</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>endif (<span style=color:#e6db74>CMAKE_BUILD_TYPE</span> <span style=color:#e6db74>STREQUAL</span> <span style=color:#e6db74>&#34;Release&#34;</span>) <span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>enable_language(<span style=color:#e6db74>ASM</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>SET (<span style=color:#e6db74>ASM_OPTIONS</span> <span style=color:#e6db74>&#34;-x assembler-with-cpp&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>SET(<span style=color:#e6db74>CMAKE_ASM_FLAGS</span> <span style=color:#e6db74>&#34;${CMAKE_C_FLAGS} ${ASM_OPTIONS}&#34;</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>include_directories(
	<span style=color:#f92672>${</span>CMAKE_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/app</span>
	<span style=color:#f92672>${</span>CMAKE_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/bsp</span>
	)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>add_definitions( <span style=color:#e6db74>-D</span> <span style=color:#e6db74>CY_CORE_ID=0</span> <span style=color:#e6db74>-D</span> <span style=color:#e6db74>CY_PSOC_CREATOR_USED=1</span> <span style=color:#e6db74>-DCY8C6347BZI_BLD53</span> <span style=color:#f92672>${</span>unix_extra_define<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>set ( <span style=color:#e6db74>CMAKE_EXE_LINKER_FLAGS</span> <span style=color:#e6db74>&#34; -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -mthumb  -T ${CMAKE_SOURCE_DIR}/project/PSoC6/cy8c6xx7_cm4_dual.ld -specs=nano.specs -Wl,--gc-sections -g -ffunction-sections -ffat-lto-objects -e Reset_Handler&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>add_subdirectory (<span style=color:#f92672>${</span>CMAKE_CURRENT_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/bsp</span> )<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>add_subdirectory (<span style=color:#f92672>${</span>CMAKE_CURRENT_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/app</span> )<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h2 id=create-eclipse-project>create eclipse project</h2><p>To create an eclipse project we have to run the following code in windows command terminl:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd c:<span style=color:#ae81ff>\p</span>ath<span style=color:#ae81ff>\t</span>o<span style=color:#ae81ff>\p</span>roject
mkdir Debug
cmake -G <span style=color:#e6db74>&#34;Eclipse CDT4 - Unix Makefiles&#34;</span> -DCMAKE_BUILD_TYPE<span style=color:#f92672>=</span>Debug -DCMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT<span style=color:#f92672>=</span>TRUE -DCMAKE_ECLIPSE_MAKE_ARGUMENTS<span style=color:#f92672>=</span>-j8 ..
</code></pre></div><p>As a result of that , cmake will create in the Debug directory files for eclipse roject like : <em>.project</em>,<em>.cproject</em>,<em>.setings</em>.<figure><img src=/post/eclipse_for_embedded/run_cmake.png><figcaption><h4>create eclipse project</h4></figcaption></figure></p><p>Now, in eclipse it has to import the project<figure><img src=/post/eclipse_for_embedded/import_project.png><figcaption><h4>project import</h4></figcaption></figure></p><p>select Debug and click on the eftbutton and press on <em>import</em><figure><img src=/post/eclipse_for_embedded/show_project.png><figcaption><h4>import the debug project</h4></figcaption></figure></p><p>now, it can bulid,debug and run it as any other eclipse project.<figure><img src=/post/eclipse_for_embedded/import_debug_project.png><figcaption><h4>project redy to work</h4></figcaption></figure></p><h2 id=further-issues>further issues</h2><h2 id=references>References</h2></div><div class=content><div class=disqus-comments>Comments<div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"yairgd-github-io-1"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><div class="column is-3"><div class=card><div class=card-content><h1 class="title is-5">Categories</h1><div class=tags><span class=tag><a href=https://yairgd.github.io/categories/algorithm>algorithm</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/development>development</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/embbeded>embbeded</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/emmbeded>emmbeded</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/golang>golang</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/linux>linux</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/python>python</a></span>
<span class=tag><a href=https://yairgd.github.io/categories/qt5>qt5</a></span></div></div></div><br><div class=card><div class=card-content><h1 class="title is-5">Tags</h1><div class=tags><span class=tag><a href=https://yairgd.github.io/tags/bayer>bayer</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/computer-vision>computer-vision</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/development>development</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/eclipse>eclipse</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/embedded>embedded</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/emmbeded>emmbeded</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/go>go</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/golang>golang</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/hugo>hugo</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/kalman-filter>kalman-filter</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/kernel>kernel</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/linux>linux</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/opkg>opkg</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/qt5>qt5</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/rgb>rgb</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/rt>rt</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/statstical-abitrage>statstical-abitrage</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/templates>templates</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/themes>themes</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/yocto>yocto</a></span>
<span class=tag><a href=https://yairgd.github.io/tags/zynq>zynq</a></span></div></div></div><br><div class=card><div class=card-content><h1 class="title is-5">Recent posts</h1><h1><a href=https://yairgd.github.io/2020/09/ecpise-with-cmake-project-on-windows/>Ecpise with cmake project on windows</a></h1><time class="has-text-grey-light is-size-7">12 September 2020</time><h1><a href=https://yairgd.github.io/2020/08/install-linux-on-microzed-board/>install linux on microzed board</a></h1><time class="has-text-grey-light is-size-7">1 August 2020</time><h1><a href=https://yairgd.github.io/2020/06/custom-opkg-repository/>Custom opkg repository</a></h1><time class="has-text-grey-light is-size-7">18 June 2020</time><h1><a href=https://yairgd.github.io/2020/05/kalman-filter-and-pair-trading/>Kalman filter and pair trading</a></h1><time class="has-text-grey-light is-size-7">1 May 2020</time><h1><a href=https://yairgd.github.io/2020/04/simple-hello-world-application-using-qt5-for-embedded-linux-device./>Simple Hello World application using qt5 for embedded Linux device.</a></h1><time class="has-text-grey-light is-size-7">1 April 2020</time></div></div><br><br><div class=card><div class=card-content><h1 class="title is-5">Archives</h1><a href=https://yairgd.github.io/archives/2020>2020</a> (14)<br><a href=https://yairgd.github.io/archives/2014>2014</a> (4)<br></div></div></div></div></div></div><footer class="footer has-background-grey-darker has-text-white"><div class="content has-text-centered"><p><span class="icon is-large"><a href="https://m.facebook.com/yair.gadelov?ref=bookmarks" class=mysocial rel=me><i class="fab fa-facebook fa-3x"></i></a></span>&nbsp;&nbsp;
<span class="icon is-large"><a href=https://www.linkedin.com/mwlite/in/yair-gadelov-1972ab17/ class=mysocial rel=me><i class="fab fa-linkedin fa-3x"></i></a></span>&nbsp;&nbsp;
<span class="icon is-large"><a href=https://github.com/yairgd/ class=mysocial rel=me><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;<br><br>Copyright &copy; Yair Gadelov Tech Blog 2020 - Theme by <a href=https://jeffprod.com class=mysocial>JeffProd.com</a>
- <a class=mysocial href=https://yairgd.github.io/about>About</a><br></p></div></footer><script defer src=https://use.fontawesome.com/releases/v5.1.0/js/all.js></script></body></html>